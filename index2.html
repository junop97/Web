<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>성동_환기</title>
</head>
<body>
	<div id="map" style="width:100%;height:100vh;"></div>

	<script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=e469d84101adbf4335d03bbaeb9435e6&libraries=clusterer"></script>
	<script>
		var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
		    mapOption = {
		        center: new kakao.maps.LatLng(37.5615880, 127.03938), // 지도의 중심좌표
		        level: 3, // 지도의 확대 레벨
		        mapTypeId : kakao.maps.MapTypeId.ROADMAP // 지도종류
		    }; 


		// 지도를 생성한다 
		var map = new kakao.maps.Map(mapContainer, mapOption); 

		// 마커 클러스터러를 생성합니다 
		var clusterer = new kakao.maps.MarkerClusterer({
			map: map, // 마커들을 클러스터로 관리하고 표시할 지도 객체 
			averageCenter: true, // 클러스터에 포함된 마커들의 평균 위치를 클러스터 마커 위치로 설정 
			minLevel: 4 // 클러스터 할 최소 지도 레벨 
		});

		var sd_address_data = [
			// [37.533647,126.971986,'내용3']	
			[37.54309962, 127.0159787, "1"], [37.54702735, 127.0190111, "1"], [37.54734045, 127.0183718, "1"], [37.54833884, 127.0230379, "1"], [37.54862009, 127.0192522, "1"], [37.54877594, 127.0247157, "1"], [37.54881824, 127.0240526, "1"], [37.54908023, 127.02326, "1"], [37.54940024, 127.0229294, "1"], [37.54945224, 127.0214156, "1"], [37.54974314, 127.0326038, "1"], [37.55158523, 127.0206079, "1"], [37.55218249, 127.0226184, "1"], [37.55221189, 127.0215481, "1"], [37.55248811, 127.0216984, "1"], [37.55702853, 127.0356724, "1"], [37.55702853, 127.0356724, "1"], [37.55702853, 127.0356724, "1"], [37.55702853, 127.0356724, "1"], [37.55706904, 127.0355038, "1"], [37.55772776, 127.0240509, "1"], [37.55915606, 127.0301827, "1"], [37.55922925, 127.030055, "1"], [37.55924304, 127.0293212, "1"], [37.55966556, 127.0476896, "1"], [37.56051246, 127.0466533, "1"], [37.56061193, 127.0473504, "1"], [37.5607305, 127.028585, "1"], [37.56080604, 127.0451912, "1"], [37.56116442, 127.0285671, "1"], [37.56124864, 127.0321726, "1"], [37.56130082, 127.0321098, "1"], [37.56133239, 127.0475056, "1"], [37.56148632, 127.0318509, "1"], [37.56152175, 127.0317769, "1"], [37.56152915, 127.0285227, "1"], [37.56173924, 127.0478254, "1"], [37.56281906, 127.0467647, "1"], [37.56299154, 127.0286085, "1"], [37.56300668, 127.0464604, "1"], [37.5630432, 127.0463741, "1"], [37.56373433, 127.0428592, "1"], [37.56408811, 127.0276261, "1"], [37.56417636, 127.0330576, "1"], [37.56423542, 127.0268594, "1"], [37.56461163, 127.0320958, "1"], [37.56470905, 127.0306308, "1"], [37.5650941, 127.0307665, "1"], [37.5651733, 127.0307668, "1"], [37.56551393, 127.0341764, "1"], [37.56666519, 127.0372616, "1"], [37.56698088, 127.0373315, "1"], [37.56776945, 127.0364013, "1"], [37.56968969, 127.0362681, "1"], [37.57080606, 127.0361704, "1"], [37.5435116627344, 127.0158574, "1"], [37.5471124285651, 127.0188375, "1"], [37.5479244625605, 127.0190635, "1"], [37.5485987234881, 127.022407, "1"], [37.5490406655496, 127.0307958, "1"], [37.5491068768804, 127.0321923, "1"], [37.5491294702901, 127.0329243, "1"], [37.5491367992487, 127.0311502, "1"], [37.5493081534853, 127.032216, "1"], [37.5500400379024, 127.03318, "1"], [37.5508057861925, 127.0194909, "1"], [37.5512788950001, 127.017814, "1"], [37.5513799839011, 127.0189901, "1"], [37.5515045782599, 127.0196249, "1"], [37.5561342100605, 127.0242854, "1"], [37.5565546057998, 127.0414695, "1"], [37.5574643982383, 127.0310155, "1"], [37.5583546784975, 127.0372334, "1"], [37.5585430870003, 127.0329561, "1"], [37.5585990830989, 127.0327974, "1"], [37.5587768652308, 127.0327419, "1"], [37.5588054921693, 127.0328311, "1"], [37.5592863180308, 127.029916, "1"], [37.5593869472238, 127.0316894, "1"], [37.5593952001391, 127.0318242, "1"], [37.5594814950426, 127.0353791, "1"], [37.5595001155764, 127.0488509, "1"], [37.5595614200657, 127.0290841, "1"], [37.559689158391, 127.0298978, "1"], [37.5599580410988, 127.0325289, "1"], [37.5600046555752, 127.0457478, "1"], [37.5600234946592, 127.0454933, "1"], [37.5601485919225, 127.0476782, "1"], [37.5601652722893, 127.0458278, "1"], [37.5601901660511, 127.0431272, "1"], [37.5602626454732, 127.0291672, "1"], [37.5602784750305, 127.0292803, "1"], [37.5603517155884, 127.0428776, "1"], [37.5603827700866, 127.0481, "1"], [37.5609203169602, 127.0286609, "1"], [37.5610800903026, 127.0292867, "1"], [37.5613151904315, 127.0322814, "1"], [37.5613275440895, 127.0315781, "1"], [37.5613721616557, 127.0315098, "1"], [37.5613748140172, 127.0285192, "1"], [37.561488024479, 127.0321976, "1"], [37.5616015009644, 127.0320469, "1"], [37.5617141660527, 127.0318973, "1"], [37.5617965360679, 127.0304609, "1"], [37.5619282539827, 127.0301402, "1"], [37.5619787466019, 127.0313822, "1"], [37.5619952645395, 127.0302325, "1"], [37.5620029483765, 127.0315137, "1"], [37.5620233268079, 127.0471522, "1"], [37.5620435976566, 127.03146, "1"], [37.5620813780895, 127.0473096, "1"], [37.5620813780895, 127.0473096, "1"], [37.5622742725173, 127.0313858, "1"], [37.5623421081475, 127.0303886, "1"], [37.5623511982054, 127.0473803, "1"], [37.5628728475588, 127.0318976, "1"], [37.5629433023894, 127.0463224, "1"], [37.5629772472712, 127.0470632, "1"], [37.5632216952344, 127.0284427, "1"], [37.5632432288195, 127.0427814, "1"], [37.5634720164616, 127.0267978, "1"], [37.5635282351769, 127.0272069, "1"], [37.5636217995077, 127.0405633, "1"], [37.5637006170778, 127.0267191, "1"], [37.5637436793293, 127.0469513, "1"], [37.5637970655328, 127.0292054, "1"], [37.5638612942632, 127.0292551, "1"], [37.5638769496488, 127.0270812, "1"], [37.5639914623415, 127.0293594, "1"], [37.5640043308003, 127.0331621, "1"], [37.5640213217432, 127.0329757, "1"], [37.5640875072936, 127.0274935, "1"], [37.5641796344908, 127.0404812, "1"], [37.5641931697521, 127.0434652, "1"], [37.5641983521664, 127.0273975, "1"], [37.5644188404946, 127.0277212, "1"], [37.5644829568262, 127.0387295, "1"], [37.5645217481023, 127.0388563, "1"], [37.5645616210568, 127.0387074, "1"], [37.5647172394552, 127.0433284, "1"], [37.5649881626814, 127.0307042, "1"], [37.5658382556172, 127.0323788, "1"], [37.5660735067401, 127.033978, "1"], [37.5668030208669, 127.0317937, "1"], [37.5670255552498, 127.0370843, "1"], [37.5671799584512, 127.0345002, "1"], [37.5684011944468, 127.0376569, "1"], [37.5684897935229, 127.0343025, "1"], [37.5707202540294, 127.0347603, "1"], [37.5707202540294, 127.0347603, "1"], [37.5405159, 127.0105015, "2"], [37.54328917, 127.0161083, "2"], [37.54733183, 127.0218998, "2"], [37.54945436, 127.0235441, "2"], [37.55315714, 127.0301342, "2"], [37.55440557, 127.0193288, "2"], [37.55702853, 127.0356724, "2"], [37.55931902, 127.0475156, "2"], [37.55966556, 127.0476896, "2"], [37.55984669, 127.0478421, "2"], [37.55993523, 127.0463226, "2"], [37.55998658, 127.0490287, "2"], [37.56017838, 127.0482198, "2"], [37.56044049, 127.046393, "2"], [37.56095468, 127.0323588, "2"], [37.56096272, 127.029896, "2"], [37.56126008, 127.0478445, "2"], [37.56134376, 127.0476882, "2"], [37.56183116, 127.0471031, "2"], [37.56317163, 127.0334685, "2"], [37.56382894, 127.033991, "2"], [37.56385823, 127.0336382, "2"], [37.56395267, 127.0269415, "2"], [37.56401057, 127.0431296, "2"], [37.56423542, 127.0268594, "2"], [37.56627669, 127.0306488, "2"], [37.56789082, 127.0375332, "2"], [37.56835149, 127.0346046, "2"], [37.57004156, 127.0343582, "2"], [37.57080606, 127.0361704, "2"], [37.5405106581981, 127.0124761, "2"], [37.5468636323084, 127.0184599, "2"], [37.5490243241164, 127.0309234, "2"], [37.5490243241164, 127.0309234, "2"], [37.5520146506973, 127.0215904, "2"], [37.5523695392666, 127.0216701, "2"], [37.5566378899248, 127.0418894, "2"], [37.5569347848486, 127.036112, "2"], [37.5574156781812, 127.0312665, "2"], [37.5574853067526, 127.0313364, "2"], [37.5584780875285, 127.0370347, "2"], [37.5589269239526, 127.0393865, "2"], [37.5594020067127, 127.0486091, "2"], [37.5594357527751, 127.0307753, "2"], [37.5594715748684, 127.0309192, "2"], [37.5595084823583, 127.0310464, "2"], [37.5595424253752, 127.029382, "2"], [37.559547089369, 127.0487738, "2"], [37.5595548265289, 127.0351097, "2"], [37.5595642565625, 127.0471016, "2"], [37.5596635672677, 127.0319718, "2"], [37.5596826677864, 127.0316396, "2"], [37.5597369048986, 127.0354551, "2"], [37.5598982642814, 127.0316847, "2"], [37.559924719701, 127.0327986, "2"], [37.5600446306837, 127.045823, "2"], [37.5600448923884, 127.0478879, "2"], [37.5601956812081, 127.0470865, "2"], [37.5602893571357, 127.0293607, "2"], [37.5603507496685, 127.0313292, "2"], [37.5603517155884, 127.0428776, "2"], [37.5604171446912, 127.0292551, "2"], [37.5605280945263, 127.0298269, "2"], [37.5605680370114, 127.0464703, "2"], [37.5608310901363, 127.0338707, "2"], [37.560861121376, 127.02903, "2"], [37.5611179287373, 127.0285652, "2"], [37.5614007988068, 127.0322313, "2"], [37.5614417034978, 127.0325617, "2"], [37.5616550433264, 127.0295399, "2"], [37.5616623265839, 127.0303093, "2"], [37.5617138482308, 127.0303691, "2"], [37.5620800340703, 127.0470655, "2"], [37.5621110409954, 127.0316146, "2"], [37.5631416311875, 127.0467302, "2"], [37.5632560435647, 127.0474435, "2"], [37.5636556488991, 127.0271511, "2"], [37.5637349756601, 127.0330095, "2"], [37.5637784574413, 127.0267444, "2"], [37.5637793663418, 127.040614, "2"], [37.5637900191711, 127.0270129, "2"], [37.5638218787521, 127.0331632, "2"], [37.5640793857913, 127.0471892, "2"], [37.5641294356936, 127.0273555, "2"], [37.5641377057396, 127.0403126, "2"], [37.5641600274609, 127.0476317, "2"], [37.5641601970002, 127.033184, "2"], [37.5642289005567, 127.033967, "2"], [37.565191128848, 127.0337771, "2"], [37.566781745208, 127.0370861, "2"], [37.566926787111, 127.0353848, "2"], [37.5684885987814, 127.0346911, "2"], [37.5686915601097, 127.0344961, "2"], [37.5688657072623, 127.0342392, "2"], [37.55841561, 127.031236, "3"], [37.55939501, 127.0474149, "3"], [37.55939501, 127.0474149, "3"], [37.55947317, 127.0473232, "3"], [37.55977451, 127.0474366, "3"], [37.56041688, 127.0296035, "3"], [37.56111585, 127.0473619, "3"], [37.56321394, 127.0449699, "3"], [37.5635523, 127.0426947, "3"], [37.56364709, 127.044632, "3"], [37.563818, 127.0427068, "3"], [37.56957076, 127.0371276, "3"], [37.5599554907778, 127.0456713, "3"], [37.5600583819488, 127.0477281, "3"], [37.5601692122978, 127.0425216, "3"], [37.5609953298557, 127.0335973, "3"], [37.5620097534326, 127.0479682, "3"], [37.5624497647295, 127.0392861, "3"], [37.5625612192589, 127.0392824, "3"], [37.563249367153, 127.0472413, "3"], [37.5638470368936, 127.0423918, "3"], [37.5687709309968, 127.036613, "3"], [37.5592284, 127.033234, "4"], [37.56060217, 127.0395782, "4"], [37.57040697, 127.0350874, "4"], [37.5564864710887, 127.0412674, "4"], [37.5566289883012, 127.0425939, "4"], [37.5568528054507, 127.0420651, "4"], [37.5570114580123, 127.0410786, "4"], [37.5594877512222, 127.0352477, "4"], [37.5599348374288, 127.0468731, "4"], [37.5601420466502, 127.0469236, "4"], [37.5604780340514, 127.0300445, "4"], [37.5605392509517, 127.0481547, "4"], [37.560680760611, 127.0340212, "4"], [37.5636388384001, 127.0470896, "4"], [37.5650209503399, 127.0303892, "4"], [37.56047186, 127.0432615, "5"], [37.5567560290744, 127.0413259, "5"], [37.5601730132192, 127.0398921, "5"], [37.5617661805158, 127.0476059, "5"], [37.5678690803718, 127.03467, "5"], [37.5588296724204, 127.0400233, "6"], [37.5610434419193, 127.0402292, "6"], [37.5587549417734, 127.0396016, "7"]

			];


		var markers = [];

		for (var i = 0; i < sd_address_data.length; i++) {
			// 지도에 마커를 생성하고 표시한다
			var marker = new kakao.maps.Marker({
				position: new kakao.maps.LatLng(sd_address_data[i][0],sd_address_data[i][1]), // 마커의 좌표
				map: map // 마커를 표시할 지도 객체
			});

			// 마커 위에 표시할 인포윈도우를 생성한다
			var infowindow = new kakao.maps.InfoWindow({
				content : sd_address_data[i][2] // 인포윈도우에 표시할 내용
			});

			// 인포윈도우를 지도에 표시한다
			//infowindow.open(map, marker);
//			markers.push(marker); //클러스터러
				
			// 마커에 mouseover 이벤트와 mouseout 이벤트를 등록합니다
			// 이벤트 리스너로는 클로저를 만들어 등록합니다 
			// for문에서 클로저를 만들어 주지 않으면 마지막 마커에만 이벤트가 등록됩니다
			kakao.maps.event.addListener(marker, 'mouseover', makeOverListener(map, marker, infowindow));
			kakao.maps.event.addListener(marker, 'mouseout', makeOutListener(infowindow));
		}
		clusterer.addMarkers(markers);


		// 인포윈도우를 표시하는 클로저를 만드는 함수입니다 
		function makeOverListener(map, marker, infowindow) {
			return function() {
				infowindow.open(map, marker);
			};
		}

		// 인포윈도우를 닫는 클로저를 만드는 함수입니다 
		function makeOutListener(infowindow) {
			return function() {
				infowindow.close();
			};
		}

	</script>
</body>
</html>
