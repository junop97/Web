<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>A구역 142세대 - 2023성동형 주거환경개선 침수안전시설설치</title>
</head>
<body>
	<div id="map" style="width:100%;height:100vh;"></div>



	<script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=e469d84101adbf4335d03bbaeb9435e6&libraries=clusterer"></script>
	<script>

		var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
		    mapOption = {
		        center: new kakao.maps.LatLng(37.55315714, 127.0301342), // 지도의 중심좌표
		        level: 6, // 지도의 확대 레벨
		        mapTypeId : kakao.maps.MapTypeId.ROADMAP // 지도종류
		    }; 

		// 지도를 생성한다 
		var map = new kakao.maps.Map(mapContainer, mapOption); 

		// 마커 클러스터러를 생성합니다 
		var clusterer = new kakao.maps.MarkerClusterer({
			map: map, // 마커들을 클러스터로 관리하고 표시할 지도 객체 
			averageCenter: true, // 클러스터에 포함된 마커들의 평균 위치를 클러스터 마커 위치로 설정 
			minLevel: 7 // 클러스터 할 최소 지도 레벨 
		});

		var sd_address_data = [
				[37.55772776,127.0240509,'1-환1:금호동1가 130-3'],[37.55613421,127.0242854,'3-환1:금호동1가 167-22'],[37.55248811,127.0216984,'5-환1:금호동2가 643'],[37.54833884,127.0230379,'8-환1:금호동3가 303'],[37.54909587,127.0230091,'9-방1:금호동3가 539'],[37.54945436,127.0235441,'10-환2:금호동3가 570-2'],[37.5512789,127.017814,'11-환1:금호동2가 501-33'],[37.55080579,127.0194909,'12-환1:금호동3가 1249'],[37.55321633,127.0182561,'13-방1:금호동2가 421-22'],[37.55221189,127.0215481,'16-환1:금호동2가 648-1'],[37.550167,127.0246882,'17-환2:금호동3가 6'],[37.54908023,127.02326,'18-환1:금호동3가 547-1'],[37.55236954,127.0216701,'19-환2:금호동2가 646'],[37.54881824,127.0240526,'20-환1:금호동3가 169'],[37.54881824,127.0240526,'21-환2:금호동3가 170'],[37.54877594,127.0247157,'22-환1:금호동3가 181'],[37.54859872,127.022407,'23-환1:금호동3가 334'],[37.55158523,127.0206079,'24-환1:금호동3가 1149-1'],[37.54940024,127.0229294,'25-환1:금호동3가 555'],[37.55218249,127.0226184,'26-환1:금호동2가 787'],[37.55218249,127.0226184,'27-방1:금호동2가 787'],[37.55440557,127.0193288,'28-환2:금호동2가 332'],[37.55150458,127.0196249,'30-환1역1차1:금호동3가 1168-10'],[37.55201465,127.0215904,'31-환2:금호동2가 683'],[37.55213873,127.0215158,'32-환2:금호동2가 649'],[37.54945224,127.0214156,'33-환1:금호동3가 984-3'],[37.54862009,127.0192522,'34-환1:금호동3가 1276'],[37.55137998,127.0189901,'35-환1:금호동3가 1344-150'],[37.54733183,127.0218998,'36-환2:금호동4가 682'],[37.54792446,127.0190635,'37-환1:금호동4가 1216'],[37.5468211,127.0201408,'38-방1:금호동4가 635'],[37.54702735,127.0190111,'39-환1:금호동4가 1035-2'],[37.54686363,127.0184599,'40-환2:금호동4가 1013-1 '],[37.5471894,127.0192481,'41-방1:금호동4가 1039'],[37.54734045,127.0183718,'42-환1:금호동4가 1243-1'],[37.54711243,127.0188375,'43-환1:금호동4가 1037'],[37.54753626,127.0209916,'44-방1:금호동4가 595'],[37.56968969,127.0362681,'45-환1:마장동 464-2'],[37.56877093,127.036613,'46-환3:마장동 568-13'],[37.56645578,127.0355611,'47-방2:마장동 566-11'],[37.56452175,127.0388563,'48-환1:마장동 797-37'],[37.56456162,127.0387074,'53-환1:마장동 797-39'],[37.56996256,127.0355219,'55-방1:마장동 463-23'],[37.56848979,127.0343025,'56-환1:마장동 479-55'],[37.56835149,127.0346046,'58-환2:마장동 479-6'],[37.56244976,127.0392861,'59-환3:마장동 399-88'],[37.5635523,127.0426947,'60-환3:마장동 342-6'],[37.57080606,127.0361704,'62-환2:마장동 466-1'],[37.56869156,127.0344961,'63-환2:마장동 479-48'],[37.56692679,127.0353848,'64-환2:마장동 565'],[37.5684886,127.0346911,'65-환2:마장동 479-38'],[37.56321394,127.0449699,'66-환3:마장동 382-1'],[37.56786908,127.03467,'67-환5:마장동 479-60'],[37.56840119,127.0376569,'68-환1:마장동 520-21'],[37.56776945,127.0364013,'71-환1:마장동 569-2'],[37.56417963,127.0404812,'72-환1:마장동 797-66'],[37.56384704,127.0423918,'74-환3:마장동 795-15'],[37.57072025,127.0347603,'75-방1:마장동 460-22'],[37.56957076,127.0371276,'76-환3:마장동 478-5'],[37.56717996,127.0345002,'77-환1:마장동 497-12'],[37.563818,127.0427068,'78-환3:마장동 341-7'],[37.56678175,127.0370861,'79-환2:마장동 518-18'],[37.56373433,127.0428592,'80-환1:마장동 342-3'],[37.56666519,127.0372616,'82-환1:마장동 518-7'],[37.56698088,127.0373315,'83-환1:마장동 518-1'],[37.56789082,127.0375332,'84-환2:마장동 519-1'],[37.56471724,127.0433284,'85-환1:마장동 360-23'],[37.56702556,127.0370843,'86-환1:마장동 518-14'],[37.56256122,127.0392824,'87-환3:마장동 399-70'],[37.56886571,127.0342392,'88-환2:마장동 450-64'],[37.57040697,127.0350874,'89-환4:마장동 462-8'],[37.56377937,127.040614,'90-환2:마장동 797-53'],[37.56419317,127.0434652,'91-환1경1방1역1차1:마장동 360-46'],[37.56413771,127.0403126,'92-환2:마장동 797-82'],[37.57004156,127.0343582,'94-환1:마장동 457-10'],[37.56324323,127.0427814,'95-환1:마장동 342-13'],[37.5636218,127.0405633,'96-환1:마장동 800-15'],[37.57072025,127.0347603,'98-환1경1방1역1차1:마장동 460-22'],[37.56364709,127.044632,'99-환3:마장동 378'],[37.56448296,127.0387295,'100-환1:마장동 797-38'],[37.57004156,127.0343582,'101-환2:마장동 457'],[37.57080606,127.0361704,'102-환1방1:마장동 466-1'],[37.57072025,127.0347603,'103-환1역1차1:마장동 460-22'],[37.56401057,127.0431296,'106-환2:마장동 345-6'],[37.56208138,127.0473096,'108-환1:사근동 216-15'],[37.56208138,127.0473096,'109-환1:사근동 216-15'],[37.56004463,127.045823,'110-환2:사근동 164-36'],[37.56300668,127.0464604,'111-환1:사근동 225-8'],[37.5623512,127.0473803,'112-환1:사근동 219-10']

			];


		var markers = [];

		for (var i = 0; i < sd_address_data.length; i++) {
			// 지도에 마커를 생성하고 표시한다
			var marker = new kakao.maps.Marker({
				position: new kakao.maps.LatLng(sd_address_data[i][0],sd_address_data[i][1]), // 마커의 좌표
				map: map // 마커를 표시할 지도 객체
			});

			// 마커 위에 표시할 인포윈도우를 생성한다
			var infowindow = new kakao.maps.InfoWindow({
				content : sd_address_data[i][2] // 인포윈도우에 표시할 내용
			});

			// 인포윈도우를 지도에 표시한다
			//infowindow.open(map, marker);
			markers.push(marker); //클러스터러
				
			// 마커에 mouseover 이벤트와 mouseout 이벤트를 등록합니다
			// 이벤트 리스너로는 클로저를 만들어 등록합니다 
			// for문에서 클로저를 만들어 주지 않으면 마지막 마커에만 이벤트가 등록됩니다
			kakao.maps.event.addListener(marker, 'mouseover', makeOverListener(map, marker, infowindow));
			kakao.maps.event.addListener(marker, 'mouseout', makeOutListener(infowindow));
		}
		clusterer.addMarkers(markers);

		


		// 인포윈도우를 표시하는 클로저를 만드는 함수입니다 
		function makeOverListener(map, marker, infowindow) {
			return function() {
				infowindow.open(map, marker);
			};
		}

		// 인포윈도우를 닫는 클로저를 만드는 함수입니다 
		function makeOutListener(infowindow) {
			return function() {
				infowindow.close();
			};
		}
	</script>

</body>
</html>
