<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>2023성동형 주거환경개선 침수안전시설설치 B구역 141세대</title>
</head>
<body>
	<div id="map" style="width:100%;height:100vh;"></div>



	<script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=e469d84101adbf4335d03bbaeb9435e6&libraries=clusterer"></script>
	<script>
		var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
		    mapOption = {
		        center: new kakao.maps.LatLng(37.55315714, 127.0301342), // 지도의 중심좌표
		        level: 6, // 지도의 확대 레벨
		        mapTypeId : kakao.maps.MapTypeId.ROADMAP // 지도종류
		    }; 

		// 지도를 생성한다 
		var map = new kakao.maps.Map(mapContainer, mapOption); 

		// 마커 클러스터러를 생성합니다 
		var clusterer = new kakao.maps.MarkerClusterer({
			map: map, // 마커들을 클러스터로 관리하고 표시할 지도 객체 
			averageCenter: true, // 클러스터에 포함된 마커들의 평균 위치를 클러스터 마커 위치로 설정 
			minLevel: 4 // 클러스터 할 최소 지도 레벨 
		});

		var sd_address_data = [
              [37.55954709,127.0487738,'113-환2:사근동 193-24'],[37.56183116,127.0471031,'114-환2:사근동 213-9'],[37.55956426,127.0471016,'116-환2:사근동 186-24'],[37.56045364,127.0466196,'117-방3:사근동 176-4'],[37.56038277,127.0481,'119-환1:사근동 182-14'],[37.56061193,127.0473504,'120-환1:사근동 183-1'],[37.56017301,127.0398921,'121-환5:행당동 4-21'],[37.56060217,127.0395782,'122-환4:행당동 3-5'],[37.56104344,127.0402292,'123-환6:행당동 1-65'],[37.55892692,127.0393865,'124-환2:행당동 19-81'],[37.55882967,127.0400233,'125-환6:행당동 19-95'],[37.56047186,127.0432615,'126-환5:사근동 309-6'],[37.56035172,127.0428776,'127-환1:사근동 309-108'],[37.56200975,127.0479682,'128-환3:사근동 218-10'],[37.56035172,127.0428776,'129-환2:사근동 309-108'],[37.55875494,127.0396016,'130-환7:행당동 19-76'],[37.56314163,127.0467302,'131-환2:사근동 226-16'],[37.55984669,127.0478421,'132-환2:사근동 188-3'],[37.56325604,127.0474435,'135-환2:사근동 226-32'],[37.56202333,127.0471522,'136-환1:사근동 216-23'],[37.56394573,127.0475168,'138-방1:사근동 293-83'],[37.56403413,127.0474894,'139-방1:사근동 293-80'],[37.5630432,127.0463741,'140-환1:사근동 225-7'],[37.56002349,127.0454933,'141-환1:사근동 312-19'],[37.56014205,127.0469236,'142-환4:사근동 185-16'],[37.56005838,127.0477281,'143-환3:사근동 183-17'],[37.55966556,127.0476896,'145-환2:사근동 186-2'],[37.56019568,127.0470865,'146-환2:사근동 185-21'],[37.56053925,127.0481547,'147-환4:사근동 181-18'],[37.55977451,127.0474366,'149-환3:사근동 185-9'],[37.56019017,127.0431272,'151-환1:사근동 309-104'],[37.56014859,127.0476782,'153-환1:사근동 183-16'],[37.55966556,127.0476896,'154-환1:사근동 186-2'],[37.56134376,127.0476882,'155-환2:사근동 205'],[37.56363884,127.0470896,'156-환4:사근동 293-60'],[37.56017838,127.0482198,'157-환2:사근동 188-8'],[37.55998658,127.0490287,'158-환2:사근동 193-3'],[37.55950012,127.0488509,'159-환1:사근동 193-25'],[37.55940201,127.0486091,'161-환2:사근동 193-28'],[37.55993484,127.0468731,'163-환4:사근동 186-13'],[37.56173924,127.0478254,'166-환1:사근동 216'],[37.56176618,127.0476059,'167-환5:사근동 216-30'],[37.55701146,127.0410786,'169-환4:행당동 37-51'],[37.56416003,127.0476317,'172-환2:사근동 293-77'],[37.56111585,127.0473619,'175-환3:사근동 208-2'],[37.55685281,127.0420651,'177-환4:행당동 32-35'],[37.55675603,127.0413259,'178-환5:행당동 37-81'],[37.56073577,127.046104,'179-경1:사근동 176-42'],[37.56064703,127.0460691,'180-방2:사근동 176-22'],[37.56080604,127.0451912,'181-환1:사근동 301-6'],[37.56044049,127.046393,'182-환2:사근동 176-7'],[37.56056804,127.0464703,'183-환2:사근동 176-13'],[37.56016921,127.0425216,'187-환3:행당동 16-13'],[37.56208003,127.0470655,'188-환2차1:사근동 216-22'],[37.55995549,127.0456713,'190-환3:사근동 164-38']
			];


		var markers = [];

		for (var i = 0; i < sd_address_data.length; i++) {
			// 지도에 마커를 생성하고 표시한다
			var marker = new kakao.maps.Marker({
				position: new kakao.maps.LatLng(sd_address_data[i][0],sd_address_data[i][1]), // 마커의 좌표
				map: map // 마커를 표시할 지도 객체
			});

			// 마커 위에 표시할 인포윈도우를 생성한다
			var infowindow = new kakao.maps.InfoWindow({
				content : sd_address_data[i][2] // 인포윈도우에 표시할 내용
			});

			// 인포윈도우를 지도에 표시한다
			//infowindow.open(map, marker);
			markers.push(marker); //클러스터러
				
			// 마커에 mouseover 이벤트와 mouseout 이벤트를 등록합니다
			// 이벤트 리스너로는 클로저를 만들어 등록합니다 
			// for문에서 클로저를 만들어 주지 않으면 마지막 마커에만 이벤트가 등록됩니다
			kakao.maps.event.addListener(marker, 'mouseover', makeOverListener(map, marker, infowindow));
			kakao.maps.event.addListener(marker, 'mouseout', makeOutListener(infowindow));
		}
		clusterer.addMarkers(markers);

		


		// 인포윈도우를 표시하는 클로저를 만드는 함수입니다 
		function makeOverListener(map, marker, infowindow) {
			return function() {
				infowindow.open(map, marker);
			};
		}

		// 인포윈도우를 닫는 클로저를 만드는 함수입니다 
		function makeOutListener(infowindow) {
			return function() {
				infowindow.close();
			};
		}
	</script>

</body>
</html>
